@istest
global class Mock_GetContentVersion implements HttpCalloutMock {

    global HTTPResponse respond(HTTPRequest req) {
        // Optionally, only send a mock response for a specific endpoint
        // and method.
        // System.assertEquals('http://example.com/example/test', req.getEndpoint());
        // System.assertEquals('GET', req.getMethod());
        
        JSONGenerator body = JSON.createGenerator(true);
        	body.writeStartObject();
                    body.writeStringField('fileData', EncodingUtil.base64Encode(Blob.valueOf('From beneath his slouched hat Ahab dropped a tear into the sea; nor did all the Pacific contain such wealth as that one wee drop.')));
                    body.writeStringField('fileExtension', 'txt'); 
                    body.writeStringField('fileTitle', 'giddyup');
                	body.writeStringField('oldContentDocumentId', '012345678912345678');
        	body.writeEndObject();

        // Create a fake response
        HttpResponse res = new HttpResponse();
            res.setHeader('Content-Type', 'application/json');
            res.setBody(body.getAsString());
            res.setStatusCode(200);
        return res;
    }

}
